<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Taguino: infraredTransmitter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Taguino
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classinfrared_transmitter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">infraredTransmitter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Infrared Transmitter.  
 <a href="classinfrared_transmitter.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_weapon_2_boundary_2_infrared_2transmitter_8hpp_source.html">transmitter.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for infraredTransmitter:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classinfrared_transmitter.png" usemap="#infraredTransmitter_map" alt=""/>
  <map id="infraredTransmitter_map" name="infraredTransmitter_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab5ad8e7eb9e800396356be835903df40"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinfrared_transmitter.html#ab5ad8e7eb9e800396356be835903df40">infraredTransmitter</a> (const long long int period=100)</td></tr>
<tr class="memdesc:ab5ad8e7eb9e800396356be835903df40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#ab5ad8e7eb9e800396356be835903df40">More...</a><br /></td></tr>
<tr class="separator:ab5ad8e7eb9e800396356be835903df40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02388e6d5c6f70acb8f24374e2e103c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinfrared_transmitter.html#a02388e6d5c6f70acb8f24374e2e103c9">main</a> () override</td></tr>
<tr class="memdesc:a02388e6d5c6f70acb8f24374e2e103c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Infrared Transmitting Task.  <a href="#a02388e6d5c6f70acb8f24374e2e103c9">More...</a><br /></td></tr>
<tr class="separator:a02388e6d5c6f70acb8f24374e2e103c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2011dbbb1f7f15dba88e78e9b2d801e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinfrared_transmitter.html#af2011dbbb1f7f15dba88e78e9b2d801e">sendData</a> (const uint16_t data)</td></tr>
<tr class="memdesc:af2011dbbb1f7f15dba88e78e9b2d801e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send uint16_t.  <a href="#af2011dbbb1f7f15dba88e78e9b2d801e">More...</a><br /></td></tr>
<tr class="separator:af2011dbbb1f7f15dba88e78e9b2d801e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a933c3e797f1714bc02a3ccb20d8c75a9"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinfrared_transmitter.html#a933c3e797f1714bc02a3ccb20d8c75a9">calculateControlBits</a> (const uint16_t data)</td></tr>
<tr class="memdesc:a933c3e797f1714bc02a3ccb20d8c75a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate Control Bits.  <a href="#a933c3e797f1714bc02a3ccb20d8c75a9">More...</a><br /></td></tr>
<tr class="separator:a933c3e797f1714bc02a3ccb20d8c75a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5ad8e7eb9e800396356be835903df40"><td class="memItemLeft" align="right" valign="top"><a id="ab5ad8e7eb9e800396356be835903df40"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>infraredTransmitter</b> (const long long int period=100)</td></tr>
<tr class="separator:ab5ad8e7eb9e800396356be835903df40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02388e6d5c6f70acb8f24374e2e103c9"><td class="memItemLeft" align="right" valign="top"><a id="a02388e6d5c6f70acb8f24374e2e103c9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>main</b> () override</td></tr>
<tr class="separator:a02388e6d5c6f70acb8f24374e2e103c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2011dbbb1f7f15dba88e78e9b2d801e"><td class="memItemLeft" align="right" valign="top"><a id="af2011dbbb1f7f15dba88e78e9b2d801e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>sendData</b> (const uint16_t data)</td></tr>
<tr class="separator:af2011dbbb1f7f15dba88e78e9b2d801e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a933c3e797f1714bc02a3ccb20d8c75a9"><td class="memItemLeft" align="right" valign="top"><a id="a933c3e797f1714bc02a3ccb20d8c75a9"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>calculateControlBits</b> (const uint16_t data)</td></tr>
<tr class="separator:a933c3e797f1714bc02a3ccb20d8c75a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Infrared Transmitter. </p>
<p>This class is responsible for transmitting data; it does that by transmitting one uint16_t per time. One data transmission is divided in 16 short transmissions. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab5ad8e7eb9e800396356be835903df40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5ad8e7eb9e800396356be835903df40">&#9670;&nbsp;</a></span>infraredTransmitter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">infraredTransmitter::infraredTransmitter </td>
          <td>(</td>
          <td class="paramtype">const long long int&#160;</td>
          <td class="paramname"><em>period</em> = <code>100</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<p>This constructor has one mandatory parameter; the period to check wheter or not the transmitterPin should change state. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a933c3e797f1714bc02a3ccb20d8c75a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a933c3e797f1714bc02a3ccb20d8c75a9">&#9670;&nbsp;</a></span>calculateControlBits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t infraredTransmitter::calculateControlBits </td>
          <td>(</td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate Control Bits. </p>
<p>This function calculates the control bits based on the passed data. It consists of 8 bits whose value is equal to the xor of bit 0 and bit 7, bit 1 and bit 8, etc. </p>

</div>
</div>
<a id="a02388e6d5c6f70acb8f24374e2e103c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02388e6d5c6f70acb8f24374e2e103c9">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void infraredTransmitter::main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Infrared Transmitting Task. </p>
<p>This <a class="el" href="classinfrared_transmitter.html#a02388e6d5c6f70acb8f24374e2e103c9" title="Infrared Transmitting Task. ">main()</a> is responsible for a couple of things. First of all it should be possible to read from the channel that contains the data that has to be transmitted. That should only be possible when it currently isn't transitting anything; state == idle. Otherwise a new messagetransmission would start while the previous one has not been finished. Secondly it should be able to transmit the data. Hence there are four substates: SENDING, CONTROLLING, HIGH_TRANSMITTING and LOW_TRANSMITTING. When it is in substate SENDING and the bitsToSend &gt;= 0 the new high and low-durations are set after which the new substate HIGH_TRANSMITTING is enabled. When the pin has been high for the specified amount of time (highDuration), the new substate is LOW_TRANSMITTING. When the pin has been LOW for the specified amount of time (lowDuration) the new substate is SENDING again. This continues until bitsToSend &lt; 0. The new substate then becomes CONTROLLING; the controlbits are calculated and sent in the same way as described above. If bitsToSend reaches &lt; 0 in substate controlling, both the state and substate becomes IDLE and a new message can be read again to start the described cycle all over again. </p>

</div>
</div>
<a id="af2011dbbb1f7f15dba88e78e9b2d801e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2011dbbb1f7f15dba88e78e9b2d801e">&#9670;&nbsp;</a></span>sendData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void infraredTransmitter::sendData </td>
          <td>(</td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send uint16_t. </p>
<p>This function puts the data that has to be transmitted at the first free place in the channel. When the task has time, the data is tranmitted in the <a class="el" href="classinfrared_transmitter.html#a02388e6d5c6f70acb8f24374e2e103c9" title="Infrared Transmitting Task. ">main()</a>.</p>
<p>This function transmits the passed uint16_t. It does that by calling startCondition() once and sendBit() sixteen times. After the data has been send, another transaction is started with the calculated control bits. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_weapon_2_boundary_2_infrared_2transmitter_8hpp_source.html">Weapon/Boundary/Infrared/transmitter.hpp</a></li>
<li><a class="el" href="_weapon_2_boundary_2_infrared_2transmitter_8cpp.html">Weapon/Boundary/Infrared/transmitter.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 7 2019 11:13:48 for Taguino by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
